<!DOCTYPE HTML>
<html>
<head>
   <title>Forms &amp; Actions &gt; Forms - Recipient management &gt; Forms &gt; Example form: Opt-in &gt; Creating a form to enter data</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="">
   <meta name="description" content="Creating a form to enter data">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

   <!-- This line forces IE8 into IE7 mode, safer until IE8 is better known -->
   <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

   <link type="text/css" href="default.css" rel="stylesheet">
   <link type="text/css" href="custom.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>

<script type="text/javascript">   
// Toggle Toggler 

var toggleCount=false;
var switchState;

function toggleToggles() {

    if (!toggleCount) {
     toggleCount = true;
     HMToggleExpandAll(true);
     switchState = true;
     }
   
     else if (switchState) {
        HMToggleExpandAll(false);
        switchState = false;
        }
        
     else  {
        HMToggleExpandAll(true);
        switchState = true;
        } 
    }
</script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
} 

   #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
   #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
   #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
   #callout-table a {text-decoration: none; color: blue;}
   #callout-table a:visited {text-decoration: none; color: blue;}
   #overview-table a {text-decoration: none; color: black;}
   #overview-table a:visited {text-decoration: none; color: black;}
   #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}
   </style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "creating_a_form_to_enter_data.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="idheader">
<table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin: 0px;">
  <tr>
    <td align="left" class="topichead">
      <p class="crumbs" id="idnav">
        <a href="sites__actions.htm">Forms &amp; Actions</a> &gt; <a href="forms_-_recipient_management.htm">Forms - Recipient management</a> &gt; <a href="forms.htm">Forms</a> &gt; <a href="example_opt-in_form.htm">Example form: Opt-in</a>&nbsp;&gt;&nbsp;Creating a form to enter data    
      </p>
    </td>
    <!-- td align="right" width="120" valign="middle" class="topichead" id="idnav">
        
        
          <a href="creating_a_new_action2.htm" onmouseover="document.images.prev.src='btn_prev_h.gif'" onmouseout="document.images.prev.src='btn_prev_n.gif'">
          <img name=prev src="btn_prev_n.gif" border=0 alt="Previous page">
          </a>
        
        
        <a href="example_opt-in_form.htm" onmouseover="document.images.main.src='btn_home_h.gif'" onmouseout="document.images.main.src='btn_home_n.gif'">
        <img name=main src="btn_home_n.gif" border=0 alt="Return to chapter overview">
        </a>
        
          <a href="creating_a_form_to_save_data2.htm" onmouseover="document.images.next.src='btn_next_h.gif'" onmouseout="document.images.next.src='btn_next_n.gif'">
          <img name=next src="btn_next_n.gif" border=0 alt="Next page">
          </a>
        
        
    </td -->
  </tr>
</table>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  

</div>  



<div id="idcontent">
  <div id="innerdiv"> 
  <h5 class="p_Heading5"><span class="f_Heading5">Creating a form to enter data</span></h5>

  <!--ZOOMRESTART-->
  <p>The form for data entry looks quite similar to the form for entering data to change a customer record which we explained in the previous chapter. There are, however, a few differences:</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">Data on gender (i.e. greeting or title) as well as the mailing type and the email address are mandatory, and a subscription for a mailing list is also required. Otherwise OpenEMM will not accept the new subscription data.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">The user has not been created yet, which is why the HTML code for the success form does not feature the hidden field with the user ID (agnUID). This user ID will be created automatically by the system as soon as the new subscriber’s record is saved in the database.</span></td></tr></table></div><p>Create a new form using the navigation bar as usual. This form will only collect all data entered by a potential new subscriber in various fields. It will then pass on the data to the script on the OpenEMM server for processing. No actions are involved here.</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">1.</span></td><td style="border:none"><span class="f_Zahlen">Select a meaningful </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Name</span><span class="f_Zahlen"> in the entry dialog, e.g. </span><span class="f_Zahlen" style="font-style: italic;">Subscribe</span><span class="f_Zahlen">. This name will become part of the link for calling up that form later. It should therefore contain neither spaces nor any special characters. The </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Description</span><span class="f_Zahlen"> should briefly describe what the form will do.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">2.</span></td><td style="border:none"><span class="f_Zahlen">The </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Success form</span><span class="f_Zahlen"> entry box will take HTML code to call up and display a form with the required entry fields in the web browser. The next section explains the required code structure in detail.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">3.</span></td><td style="border:none"><span class="f_Zahlen">The </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Error form</span><span class="f_Zahlen"> entry box takes text which potential subscribers will see if their registration is not successful. Saving the form using the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Save</span><span class="f_Zahlen"> button concludes entry of the form.</span></td></tr></table></div><div class="p_ImageCaption"><div style="margin:0px auto 0px auto;width:940px;padding:0px 0px 0px 0px"><img src="the_registration_form_consists_mainly.png" width="940" height="1021" style="border:none" alt="Fig. 8.10: The registration form consists mainly of HTML code to display the corresponding web form." title="Fig. 8.10: The registration form consists mainly of HTML code to display the corresponding web form." /><p style="text-align:center"><span class="f_ImageCaption">Fig. 8.10: The registration form consists mainly of HTML code to display the corresponding web form.</span></p></div></div>
<p>HTML code for the subscription form looks quite similar to the one for changing a customer record. There are, however, a few differences. There is no user ID, for instance. Other entries are required instead, though. The following example assumes that the subscriber registers to receive a newsletter which is always sent out impersonally (no customized greeting or title) in HTML format. You may also let the potential subscriber make the required entries. For this see chapter <a href="advanced_form_layout.htm" class="topiclink">Advanced form layout</a>.</p>
<p>The complete HTML code for our example reads as follows:</p>
<p class="p_BeispieltextQuelltext"><span class="f_BeispieltextQuelltext">&lt;form action=&quot;form.do&quot; method=&quot;post&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnCI&quot; value=&quot;XX&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnFN&quot; value=&quot;subscribeConfirm&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnMAILINGLIST&quot; value=&quot;3&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;select name=”GENDER” size=”1”&gt;</span><br />
<span style="width:29px">&nbsp;</span><span class="f_BeispieltextQuelltext">&lt;option value=”2” selected&gt;no specification&lt;/option&gt;</span><br />
<span style="width:29px">&nbsp;</span><span class="f_BeispieltextQuelltext">&lt;option value=”0”&gt;Mr&lt;/option&gt;</span><br />
<span style="width:29px">&nbsp;</span><span class="f_BeispieltextQuelltext">&lt;option value=”1”&gt;Mrs&lt;/option&gt;</span><br />
<span class="f_BeispieltextQuelltext">First name: &lt;input type=&quot;text&quot; value=&quot; &quot; name=&quot;FIRSTNAME&quot;&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">Last name: &lt;input type=&quot;text&quot; value=&quot;&quot; name=&quot;LASTNAME&quot;&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">Email address: &lt;input type=&quot;text&quot; value=&quot;&quot; name=&quot;EMAIL&quot;&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;submit&quot; value=&quot;submit!&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">Format:</span><br />
<span class="f_BeispieltextQuelltext">&lt;select name=&quot;MAILTYPE&quot; size=&quot;1&quot;&gt;</span><br />
<span style="width:29px">&nbsp;</span><span class="f_BeispieltextQuelltext">&lt;option value=&quot;2&quot;&gt;Offline-HTML</span><br />
<span style="width:29px">&nbsp;</span><span class="f_BeispieltextQuelltext">&lt;option value=&quot;1&quot; checked&gt;HTML</span><br />
<span style="width:29px">&nbsp;</span><span class="f_BeispieltextQuelltext">&lt;option value=&quot;0&quot;&gt;Text</span><br />
<span class="f_BeispieltextQuelltext">&lt;/select&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">Subscribe for newsletter: &lt;input type=&quot;checkbox&quot; name=&quot;agnSUBSCRIBE&quot; value=&quot;1&quot;&gt;Yes&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnMAILINGLIST&quot; value=&quot;XX&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;submit&quot; value=&quot;Subscribe&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;/form&gt;</span></p>
<p>The first three lines of code are the same as in the form to display saved customer data. They define the script which, on the OpenEMM server, will evaluate customer data, create a customer ID (<span style="font-style: italic;">agnCI</span> is always 1 in OpenEMM) and define the form which will then be called up (in our example: <span style="font-style: italic;">SaveProfile</span>). Chapter <a href="creating_a_form_to_display_dat.htm" class="topiclink">Creating a form to display data</a> contains a detailed explanation of all options. From line 4, the HTML code creates entry fields for the subscriber’s customer data.</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte" style="font-style: italic;">&lt;select name=“GENDER”&gt; ... &lt;/select&gt;</span><span class="f_Punkte">: This selection operates the field </span><span class="f_Punkte" style="font-weight: bold; color: #006fb9;">GENDER</span><span class="f_Punkte"> in the database and allows the user to set how he or she will be addressed. In OpenEMM, </span><span class="f_Punkte" style="font-style: italic;">0</span><span class="f_Punkte"> means male, </span><span class="f_Punkte" style="font-style: italic;">1</span><span class="f_Punkte"> means female and </span><span class="f_Punkte" style="font-style: italic;">2</span><span class="f_Punkte"> means a gender-neutral form of address.</span><br />
<span class="f_Punkte" style="font-weight: bold;">Please note:</span><span class="f_Punkte"> </span><span class="f_Punkte" style="font-style: italic;">&lt;input type=“hidden” value=“2” name=“GENDER”&gt;&lt;br&gt;</span><span class="f_Punkte">: The hidden entry field determines the gender of the recipient. With </span><span class="f_Punkte" style="font-style: italic;">type=“hidden”</span><span class="f_Punkte"> you transmit the gender without the user being able to make a selection. This can be used for registrations where only the email address is recorded. In the example, this is why a </span><span class="f_Punkte" style="font-style: italic;">2</span><span class="f_Punkte"> (unknown) is entered in the attribute value.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte" style="font-style: italic;">&lt;select name=“MAILTYPE”&gt; …. &lt;/select&gt;</span><span class="f_Punkte">: The </span><span class="f_Punkte" style="font-style: italic;">MAILTYPE</span><span class="f_Punkte"> selection determines in which format the recipient receives the emails. A </span><span class="f_Punkte" style="font-style: italic;">0</span><span class="f_Punkte"> stands for text, a </span><span class="f_Punkte" style="font-style: italic;">1</span><span class="f_Punkte"> for HTML, a </span><span class="f_Punkte" style="font-style: italic;">2</span><span class="f_Punkte"> for Offline-HTML.</span><br />
<span class="f_Punkte" style="font-weight: bold;">Please note:</span><span class="f_Punkte"> </span><span class="f_Punkte" style="font-style: italic;">&lt;input type=“hidden” value=“1” name=“MAILTYPE”&gt;&lt;br&gt;</span><span class="f_Punkte">: In this variant, a </span><span class="f_Punkte" style="font-style: italic;">1</span><span class="f_Punkte"> for HTML format is permanently set. The selection cannot be influenced by the user.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">The entry fields for first name (</span><span class="f_Punkte" style="font-style: italic;">FIRSTNAME</span><span class="f_Punkte">), last name (</span><span class="f_Punkte" style="font-style: italic;">LASTNAME</span><span class="f_Punkte">) and email address (</span><span class="f_Punkte" style="font-style: italic;">EMAIL</span><span class="f_Punkte">) will be empty in the form (attribute </span><span class="f_Punkte" style="font-style: italic;">value=&quot;&quot;</span><span class="f_Punkte">). The potential subscriber must enter his or her personal data here.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">Subscription to the mailing list in question requires two form elements, the reason being that each form element can only save one value in HTML. The first element is a check box. It determines whether or not subscription to the mailing list is activated. The second element is a hidden field containing the mailing list’s internal code ID. It is very easy to determine this mailing list ID: Call up the detailed view for the list and look for the mailinglistID= text in your browser’s address bar. In our example it is </span><span class="f_Punkte" style="font-style: italic;">526</span><span class="f_Punkte">.</span><br />
<span class="f_Punkte">OpenEMM will automatically make the connection between the two elements. If you would like to enter more than one mailing list subscription, you will need two form elements for each. Just number them consecutively, for instance </span><span class="f_Punkte" style="font-style: italic;">agnSUBSCRIBE2</span><span class="f_Punkte"> and </span><span class="f_Punkte" style="font-style: italic;">agnMAILINGLIST2</span><span class="f_Punkte"> etc.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">The last line but one creates the usual Submit button for sending off the form. The last line concludes form definition in HTML.</span></td></tr></table></div><p>There are various options for slightly more attractive formatting in HTML, for instance using a table layout. In our example, we have only included a few carriage returns (<span style="font-style: italic;">&lt;br&gt;</span>) to separate the more important elements clearly.</p>
<div class="p_ImageCaption"><div style="margin:0px auto 0px auto;width:444px;padding:0px 0px 0px 0px"><img src="a_simple_form_for_registering.png" width="444" height="335" style="border:none" alt="Fig. 8.11: A simple form for registering a new subscriber. In practice, there are limitless formatting possibilities for you to adapt the layout to your website graphics." title="Fig. 8.11: A simple form for registering a new subscriber. In practice, there are limitless formatting possibilities for you to adapt the layout to your website graphics." /><p style="text-align:center"><span class="f_ImageCaption">Fig. 8.11: A simple form for registering a new subscriber. In practice, there are limitless formatting possibilities for you to adapt the layout to your website graphics.</span></p></div></div>

  <!--ZOOMSTOP-->
  </div>
</div>

<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
</html>
