<!DOCTYPE HTML>
<html>
<head>
   <title>Forms &amp; Actions &gt; Forms - Recipient management &gt; Forms &gt; Example form: Amend a profile &gt; Creating a form to display data</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="">
   <meta name="description" content="Creating a form to display data">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

   <!-- This line forces IE8 into IE7 mode, safer until IE8 is better known -->
   <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

   <link type="text/css" href="default.css" rel="stylesheet">
   <link type="text/css" href="custom.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>

<script type="text/javascript">   
// Toggle Toggler 

var toggleCount=false;
var switchState;

function toggleToggles() {

    if (!toggleCount) {
     toggleCount = true;
     HMToggleExpandAll(true);
     switchState = true;
     }
   
     else if (switchState) {
        HMToggleExpandAll(false);
        switchState = false;
        }
        
     else  {
        HMToggleExpandAll(true);
        switchState = true;
        } 
    }
</script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
} 

   #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
   #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
   #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
   #callout-table a {text-decoration: none; color: blue;}
   #callout-table a:visited {text-decoration: none; color: blue;}
   #overview-table a {text-decoration: none; color: black;}
   #overview-table a:visited {text-decoration: none; color: black;}
   #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}
   </style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "creating_a_form_to_display_dat.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="idheader">
<table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin: 0px;">
  <tr>
    <td align="left" class="topichead">
      <p class="crumbs" id="idnav">
        <a href="sites__actions.htm">Forms &amp; Actions</a> &gt; <a href="forms_-_recipient_management.htm">Forms - Recipient management</a> &gt; <a href="forms.htm">Forms</a> &gt; <a href="example_form_for_a_user_profil.htm">Example form: Amend a profile</a>&nbsp;&gt;&nbsp;Creating a form to display data    
      </p>
    </td>
    <!-- td align="right" width="120" valign="middle" class="topichead" id="idnav">
        
        
          <a href="creating_a_new_action.htm" onmouseover="document.images.prev.src='btn_prev_h.gif'" onmouseout="document.images.prev.src='btn_prev_n.gif'">
          <img name=prev src="btn_prev_n.gif" border=0 alt="Previous page">
          </a>
        
        
        <a href="example_form_for_a_user_profil.htm" onmouseover="document.images.main.src='btn_home_h.gif'" onmouseout="document.images.main.src='btn_home_n.gif'">
        <img name=main src="btn_home_n.gif" border=0 alt="Return to chapter overview">
        </a>
        
          <a href="creating_a_form_to_save_data.htm" onmouseover="document.images.next.src='btn_next_h.gif'" onmouseout="document.images.next.src='btn_next_n.gif'">
          <img name=next src="btn_next_n.gif" border=0 alt="Next page">
          </a>
        
        
    </td -->
  </tr>
</table>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  

</div>  



<div id="idcontent">
  <div id="innerdiv"> 
  <h5 class="p_Heading5"><span class="f_Heading5">Creating a form to display data</span></h5>

  <!--ZOOMRESTART-->
  <p>Preparations for the forms are now complete. Now go to the <span style="font-weight: bold; color: #006fb9;">Forms</span> section and select the <span style="font-weight: bold; color: #006fb9;">New form</span> sub-menu. Start by creating a form which will be used to display stored user profile data.</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">1.</span></td><td style="border:none"><span class="f_Zahlen">As a first step, assign your form a meaningful name. This name will be inserted in the link to call up the form, it should therefore contain no spaces and no umlauts or other special characters because they may cause problems at the recipient’s end depending on his or her web browser and email client. Using either upper or lower-case letters is not a problem, however, as long as you are consistent in their use. In our example, the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Name</span><span class="f_Zahlen"> is </span><span class="f_Zahlen" style="font-style: italic;">ShowProfile</span><span class="f_Zahlen">. In the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Description</span><span class="f_Zahlen"> box, you can give a description of the intended aim of the form.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">2.</span></td><td style="border:none"><span class="f_Zahlen">In the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Action</span><span class="f_Zahlen"> drop-down list, select what OpenEMM should do before calling up the success form. All previously defined actions for that section are displayed in the drop-down list.</span><br />
<span class="f_Zahlen" style="font-weight: bold;">Please note:</span><span class="f_Zahlen"> Only actions where you defined, under </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Usage</span><span class="f_Zahlen">, that they should be used </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Only for forms</span><span class="f_Zahlen"> or </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Link and form</span><span class="f_Zahlen"> are visible (see chapter <a href="defining_actions.htm" class="topiclink">Defining actions</a> and <a href="creating_a_new_action.htm" class="topiclink">Creating a new action</a>). For our example, select the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Load user data</span><span class="f_Zahlen"> action you defined in the previous section as your action.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">3.</span></td><td style="border:none"><span class="f_Zahlen">In the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Success form</span><span class="f_Zahlen"> box, enter text or HTML code for the website where user profile data should be displayed. A further example for displaying last name, first name, email address and mailing list status is explained below.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">4.</span></td><td style="border:none"><span class="f_Zahlen">The </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Error form</span><span class="f_Zahlen"> box takes the text the system should return in case of an error. Here, all HTML commands are available as before. For the purpose of our example, however, the text </span><span class="f_Zahlen" style="font-style: italic;">An error has occurred</span><span class="f_Zahlen"> should be enough.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:16px"><span style="font-size:11pt; font-family: 'Arial';color:#000000;">5.</span></td><td style="border:none"><span class="f_Zahlen">Our example does not need a concluding action. Just leave the </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">No action</span><span class="f_Zahlen"> entry in the Action drop-down list at the end of the entry dialog untouched. Click on </span><span class="f_Zahlen" style="font-weight: bold; color: #006fb9;">Save</span><span class="f_Zahlen"> to store your entries.</span></td></tr></table></div><div class="p_ImageCaption"><div style="margin:0px auto 0px auto;width:940px;padding:0px 0px 0px 0px"><img src="this_form_will_later_display.png" width="940" height="1023" style="border:none" alt="Fig. 8.5: This form will later display Last name, First name and Email address for your subscriber." title="Fig. 8.5: This form will later display Last name, First name and Email address for your subscriber." /><p style="text-align:center"><span class="f_ImageCaption">Fig. 8.5: This form will later display Last name, First name and Email address for your subscriber.</span></p></div></div>
<p>If you want your user to be able to change his or her profile data, these must be displayed as an HTML form. Otherwise, the text may not be changed within the browser, and it will not be possible to send the amendments to OpenEMM. The following example displays the contents of the FIRSTNAME, LASTNAME and EMAIL fields without any formatting. There is a button which, if clicked, transmits the amendments to OpenEMM.</p>
<p>The complete HTML code reads as follows:</p>
<p class="p_BeispieltextQuelltext"><span class="f_BeispieltextQuelltext">&lt;form action=&quot;form.do&quot; method=&quot;post&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnCI&quot; value=&quot;88&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnFN&quot; value=&quot;SaveProfile&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;hidden&quot; name=&quot;agnUID&quot; value=&quot;$agnUID&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;select name=”GENDER” size=”1”&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;option value=”2” #if( $customerData.GENDER == “2” ) selected #end &gt;no specification&lt;/option&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;option value=”0” #if( $customerData.GENDER == “0” ) selected #end &gt;Mr&lt;/option&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;option value=”1” #if( $customerData.GENDER == “1” ) selected #end &gt;Mrs&lt;/option&gt;</span><br />
<span class="f_BeispieltextQuelltext">First name: &lt;input type=&quot;text&quot; value=&quot;$customerData.FIRSTNAME&quot; name=&quot;FIRSTNAME&quot;&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">Last name: &lt;input type=&quot;text&quot; value=&quot;$customerData.LASTNAME&quot; name=&quot;LASTNAME&quot;&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">E-mail address: &lt;input type=&quot;text&quot; value=&quot;$customerData.EMAIL&quot; name=&quot;EMAIL&quot;&gt;&lt;br&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;input type=&quot;submit&quot; value=&quot;submit!&quot;&gt;</span><br />
<span class="f_BeispieltextQuelltext">&lt;/form&gt;</span></p>
<p><span style="font-weight: bold;">Please note:</span> Date fields must be divided into three separate entry fields for entering the day, the month and the year. Field names are always: <span style="font-style: italic;">FIELDNAME_DAY_DATE</span>, <span style="font-style: italic;">FIELDNAME_MONTH_DATE</span>, <span style="font-style: italic;">FIELDNAME_YEAR_DATE</span>.</p>
<p>Example for a date field <span style="font-weight: bold; color: #006fb9;">birthday</span>:</p>
<p class="p_BeispieltextQuelltext"><span class="f_BeispieltextQuelltext">Day: &lt;input type=”text” name=”birthday_DAY_DATE” /&gt;&lt;br/&gt;</span><br />
<span class="f_BeispieltextQuelltext">Month: &lt;input type=”text” name=”birthday_MONTH_DATE” /&gt;&lt;br/&gt;</span><br />
<span class="f_BeispieltextQuelltext">Year: &lt;input type=”text” name=”birthday_YEAR_DATE” /&gt;</span></p>
<p>This is an HTML form which is why tags are surrounded by <span style="font-style: italic;">&lt;form&gt;</span>. The <span style="font-style: italic;">action</span> attribute in the starting tag controls which script the form should evaluate when the Submit button is clicked. Always enter <span style="font-style: italic;">form.do</span> here, and select <span style="font-style: italic;">method=&quot;post&quot;</span> as the transmission method.</p>
<p>The following three lines of code define hidden form fields. They do not actually appear in the web browser, but the data they contain will be transmitted when evaluating the form. OpenEMM needs them to be able to make changes in the right customer data record. These hidden fields have the following meaning:</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte" style="font-style: italic;">&lt;input type=&quot;hidden&quot; name=&quot;agnCI&quot; value=&quot;88&quot;&gt;</span><span class="f_Punkte">: The field entitled </span><span class="f_Punkte" style="font-style: italic;">agnCI</span><span class="f_Punkte"> transmits OpenEMM your company ID. The </span><span class="f_Punkte" style="font-style: italic;">value</span><span class="f_Punkte"> attribute sets the value, in this case </span><span class="f_Punkte" style="font-style: italic;">88</span><span class="f_Punkte">. You will find your company ID on the forms overview site.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte" style="font-style: italic;">&lt;input type=&quot;hidden&quot; name=&quot;agnFN&quot; value=&quot;saveProfile&quot;&gt;</span><span class="f_Punkte">: The </span><span class="f_Punkte" style="font-style: italic;">agnFN</span><span class="f_Punkte"> field tells the system which form to call up after data have been transmitted by clicking on the Submit button. This subordinated form saves amendments made to the customer’s record in the profile database. In our example, the </span><span class="f_Punkte" style="font-style: italic;">value</span><span class="f_Punkte"> is named </span><span class="f_Punkte" style="font-style: italic;">saveProfile</span><span class="f_Punkte">. This form will be created in our next example.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte" style="font-style: italic;">&lt;input type=&quot;hidden&quot; name=&quot;agnUID&quot; value=&quot;$agnUID&quot;&gt;</span><span class="f_Punkte">: In order to identify a subscriber, OpenEMM creates a user ID for that user. This user ID was written into the </span><span class="f_Punkte" style="font-style: italic;">$agnUID</span><span class="f_Punkte"> variable when the user profile was loaded. All you need to do is write the variable under </span><span class="f_Punkte" style="font-style: italic;">value</span><span class="f_Punkte">. Before issuing a web page, OpenEMM will automatically replace the variable with the correct user ID.</span></td></tr></table></div><p>The next three lines from our example create entry fields from the customer profile data loaded in the previous step. It is up to you to decide which sections of a profile you want to display on the web page. The <span style="font-style: italic;">&lt;input&gt;</span> tag structure is always the same. It is, of course, possible to include further HTML tags with the aim of formatting entry fields or data with right or left alignment or as a table. However, in order not to complicate matters further, we did not include them in our example. The line</p>
<p class="p_BeispieltextQuelltext"><span class="f_BeispieltextQuelltext">&lt;input type=&quot;text&quot; value=&quot;$customerData.FIRSTNAME&quot; name=&quot;FIRSTNAME&quot;&gt;</span></p>
<p>defines an entry field for the subscriber’s first name. Two attributes are of importance here:</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">The </span><span class="f_Punkte" style="font-style: italic;">value</span><span class="f_Punkte"> attribute contains a default value which the browser will enter into the relevant field when first calling up the form. This should, of course, be the current contents of the first name field which is saved in the profile database in that customer’s record. The script command </span><span class="f_Punkte" style="font-style: italic;">$customerData</span><span class="f_Punkte"> accesses the whole profile which was loaded in the starting action (see chapter <a href="creating_a_new_action.htm" class="topiclink">Creating a new action</a>). The command ends with the name of the field from the profile database, separated from the command by a full stop. All profile fields including those you defined yourself are permissible. The name of the field must be written in upper-case letters. Chapter <a href="other_profile_data.htm" class="topiclink">Other profile data</a> contains a list of all field names. In our example, the name of the first-name field is FIRSTNAME.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 8px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:11pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Punkte">To tell the OpenEMM what the field contains, i.e. what to use for evaluation, the </span><span class="f_Punkte" style="font-style: italic;">name</span><span class="f_Punkte"> attribute gives the internal system field name, In our example, it is the </span><span class="f_Punkte" style="font-style: italic;">FIRSTNAME</span><span class="f_Punkte"> field.</span></td></tr></table></div><p>At the end of the HTML tags you define a button for the subscriber to click if he or she wants to send amendments to OpenEMM. In our case, we used the <span style="font-style: italic;">Submit</span> button customary in HTML. The <span style="font-style: italic;">value</span> attribute defines what the button says, in our example submit!</p>
<p class="p_BeispieltextQuelltext"><span class="f_BeispieltextQuelltext">&lt;input type=&quot;submit&quot; value=“submit!&quot;&gt;</span></p>
<div class="p_ImageCaption"><div style="margin:0px auto 0px auto;width:609px;padding:0px 0px 0px 0px"><img src="the_form_from_our_example.png" width="609" height="536" style="border:none" alt="Fig. 8.6: The form from our example called up in the browser. It looks a bit empty – it is, after all, only a demonstration example." title="Fig. 8.6: The form from our example called up in the browser. It looks a bit empty – it is, after all, only a demonstration example." /><p style="text-align:center"><span class="f_ImageCaption">Fig. 8.6: The form from our example called up in the browser. It looks a bit empty – it is, after all, only a demonstration example.</span></p></div></div>

  <!--ZOOMSTOP-->
  </div>
</div>

<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
</html>
